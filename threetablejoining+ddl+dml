ðŸ“˜ SQL COMPLETE PRACTICE MODULE
(3-Table JOINs + DDL + DML)
ðŸ”¹ CORE CONCEPTS (INTERVIEW READY)
1ï¸âƒ£ DDL (Data Definition Language)

Used to define or modify table structure

CREATE

ALTER

DROP

2ï¸âƒ£ DML (Data Manipulation Language)

Used to insert or modify data

INSERT

UPDATE

DELETE

3ï¸âƒ£ DQL (Data Query Language)

Used to fetch data

SELECT

4ï¸âƒ£ JOIN

Used to combine rows from multiple tables

Based on foreign key relationships

ðŸ§± SCHEMA: UNIVERSITY COURSE MANAGEMENT SYSTEM
1ï¸âƒ£ STUDENTS TABLE (DDL)
CREATE TABLE students (
    student_id INT PRIMARY KEY,
    student_name VARCHAR(50),
    email VARCHAR(100)
);

2ï¸âƒ£ COURSES TABLE (DDL)
CREATE TABLE courses (
    course_id INT PRIMARY KEY,
    course_name VARCHAR(50),
    department VARCHAR(50)
);

3ï¸âƒ£ ENROLLMENTS TABLE (DDL)
CREATE TABLE enrollments (
    enrollment_id INT PRIMARY KEY,
    student_id INT,
    course_id INT,
    marks INT,
    FOREIGN KEY (student_id) REFERENCES students(student_id),
    FOREIGN KEY (course_id) REFERENCES courses(course_id)
);

ðŸ§¾ DATA INSERTION (INPUTS)
Students
INSERT INTO students VALUES
(1, '  Rahul  ', 'rahul@gmail.com'),
(2, 'Anita', 'anita@yahoo.com'),
(3, '  Suresh ', 'suresh@outlook.com');

Courses
INSERT INTO courses VALUES
(101, 'Database Systems', 'IT'),
(102, 'Operating Systems', 'IT'),
(103, 'Accounting Basics', 'Commerce');

Enrollments
INSERT INTO enrollments VALUES
(1001, 1, 101, 85),
(1002, 1, 102, 78),
(1003, 2, 101, 90),
(1004, 3, 103, 65);

ðŸ“Š DATA VIEW (FOR UNDERSTANDING)
students
id	name	email
1	Rahul	rahul@gmail.com

2	Anita	anita@yahoo.com

3	Suresh	suresh@outlook.com
courses
id	course	dept
101	Database Systems	IT
102	Operating Systems	IT
103	Accounting Basics	Commerce
enrollments
id	student	course	marks
1001	1	101	85
1002	1	102	78
1003	2	101	90
1004	3	103	65
ðŸŽ¯ QUERY 1 â€” EASY (SELECT + 3 JOIN + STRING)
â“ Requirement

Show:

Clean student name

Email

Course name

Department

âœ… SQL
SELECT 
    TRIM(s.student_name) AS student_name,
    s.email,
    c.course_name,
    c.department
FROM students s
JOIN enrollments e ON s.student_id = e.student_id
JOIN courses c ON e.course_id = c.course_id;

ðŸ“Š Output
name	email	course	dept
Rahul	rahul@gmail.com
	Database Systems	IT
Rahul	rahul@gmail.com
	Operating Systems	IT
Anita	anita@yahoo.com
	Database Systems	IT
Suresh	suresh@outlook.com
	Accounting Basics	Commerce
ðŸ§  Explanation

TRIM removes extra spaces

JOIN links student â†’ enrollment â†’ course

ðŸŽ¯ QUERY 2 â€” MEDIUM (DML + UPDATE + JOIN)
â“ Requirement

Increase marks by 5 for students enrolled in IT department courses

âœ… SQL
UPDATE enrollments e
JOIN courses c ON e.course_id = c.course_id
SET e.marks = e.marks + 5
WHERE c.department = 'IT';

ðŸ“Š Output (Enrollments After Update)
student	course	marks
Rahul	Database Systems	90
Rahul	Operating Systems	83
Anita	Database Systems	95
ðŸ§  Explanation

UPDATE with JOIN modifies related records

Only IT department courses affected

ðŸŽ¯ QUERY 3 â€” MEDIUM (AGGREGATE + JOIN)
â“ Requirement

Show average marks per department

âœ… SQL
SELECT 
    c.department,
    AVG(e.marks) AS avg_marks
FROM enrollments e
JOIN courses c ON e.course_id = c.course_id
GROUP BY c.department;

ðŸ“Š Output
department	avg_marks
IT	89.33
Commerce	65
ðŸ§  Explanation

GROUP BY groups rows per department

AVG calculates department-wise average

ðŸŽ¯ QUERY 4 â€” HARD (DDL)
â“ Requirement

Add a rule: Marks must be between 0 and 100

âœ… SQL
ALTER TABLE enrollments
ADD CONSTRAINT chk_marks
CHECK (marks BETWEEN 0 AND 100);

ðŸ§  Explanation

Prevents invalid marks

Enforced on INSERT and UPDATE

ðŸŽ¯ QUERY 5 â€” HARDEST (DDL + DML)
â“ Requirement

Add column result

Set:

PASS if marks â‰¥ 40

FAIL otherwise

âœ… SQL
ALTER TABLE enrollments
ADD result VARCHAR(10);

UPDATE enrollments
SET result = 'PASS'
WHERE marks >= 40;

UPDATE enrollments
SET result = 'FAIL'
WHERE marks < 40;

ðŸ“Š Output
student	course	marks	result
Rahul	Database Systems	90	PASS
Rahul	Operating Systems	83	PASS
Anita	Database Systems	95	PASS
Suresh	Accounting Basics	65	PASS
